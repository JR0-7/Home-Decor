{% extends 'store_templates/base.html' %}
{% load static %}
{% block content %}

    <!-- ...:::: Start Breadcrumb Section:::... -->
    <div class="breadcrumb-section breadcrumb-bg-color--golden">
        <div class="breadcrumb-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <h3 class="breadcrumb-title">Login</h3>
                        <div class="breadcrumb-nav breadcrumb-nav-color--black breadcrumb-nav-hover-color--golden">
                            <nav aria-label="breadcrumb">
                                <ul>
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="shop-grid-sidebar-left.html">Shop</a></li>
                                    <li class="active" aria-current="page">Login</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- ...:::: End Breadcrumb Section:::... -->

    <!-- ...:::: Start Customer Login Section :::... -->
    <div class="customer-login">
        <div class="container">
            <div class="row justify-content-between mb-4 flex-column align-items-center">
                <!--login area start-->
                <div class="col-lg-6 col-md-6">
                    <div class="account_form" data-aos="fade-up" data-aos-delay="0">

                            <form method="POST" id="loginForm">
                                <h3>Welcome !</h3>
                                {% csrf_token %}
                                <h3>
                                    <span>Login to your account.</span>
                                </h3>
                                <div class="default-form-box">
                                    <input type="email" id="email" class="mt-3" placeholder="Email" name="email" autocomplete="off">
                                    <span class="error"  id="emailError" style="top: 100%;left: 2px;font-size:14px;font-weight: 400;color: red;width: 190px;transition: opacity 0.5s;">  </span>
                                   
                                </div>
                                <div class="default-form-box">
                                    <input type="password" id="password" class="mt-3" placeholder="Password" name="password" >
                                    <span class="error" id="passwordError" style="top: 100%;left: 2px;font-size:14px;font-weight: 400;color: red;width: 190px;transition: opacity 0.5s;"></span>
                              
                                    {% if messages %}
                                    {% for message in messages %}
                                    <span  style="top: 100%;left: 2px;font-size:14px;font-weight: 400;color: red;width: 190px;transition: opacity 0.5s;">{{message}}</span>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                                
                                <div class="login_submit">
                                    <div class="d-flex flex-row gap-40">
                                       <div class="d-flex align-items-center">    
                                            <!-- <label class="checkbox-default d-flex align-items-center">
                                                <input type="checkbox"  >
                                                <div class="d-flex align-items-center ">Remember me</div>
                                            </label> -->
                                        </div>
                                        <div class="d-flex  ">
                                            <a href="{% url 'forget_password_login' %}" class="">Forget password?</a>
                                        </div>
                                    </div>
                                    <button class="btn btn-black-default-hover m-4 w-25" type="submit">login</button>
    
                                </div>
                                <div class="mt-3"><h5>Don't have an account? <a href="{% url 'usersignup' %}"  class="text-decoration-none">Register</a></h5></div>
                            </form>
                        </div>
                    </div>
                    <!--login area start-->
                    <div class="mt-3"><h5>Login with Google? <button  class="text-decoration-none" onclick="signInWithGoogle()">Login</button></h5></div>

              
            </div>
        </div>
    </div> <!-- ...:::: End Customer Login Section :::... -->
    
    <script>
        function validateEmail() {
            const email = document.getElementById('email').value;
            const emailError = document.getElementById('emailError');

            console.log(email);
    
            if (email === "") {
                emailError.innerHTML = "Enter your email address";
                return false;
            }
    
            // You can add additional email validation logic here if needed
    
            emailError.innerHTML = null;
            return true;
        }
    
        function validatePassword() {
            const password = document.getElementById('password').value;
            const passwordError = document.getElementById('passwordError');
    
            if (password === "") {
                passwordError.innerHTML = "Enter password";
                return false;
            }

            // if(password)
    
            // You can add additional password validation logic here if needed
    
            passwordError.innerHTML = null;
            return true;
        }
    
        function validation() {
            const isValidEmail = validateEmail();
            const isValidPassword = validatePassword();
    
            return isValidEmail && isValidPassword;
        }
    
        document.addEventListener('DOMContentLoaded', function () {
            const loginForm = document.getElementById('loginForm');
    
            loginForm.addEventListener('submit', function (e) {
                // alert("hi")
                e.preventDefault();
                console.log(validation())
                 // Prevent the default form submission behavior
    
                // Your validation and other logic here
                if (validation()) {
                    console.log('Login form submitted successfully');
                    this.submit(); // Manually submit the form
                } else {
                    console.log('Login form not submitted due to validation error');
                }
            });
        });
    </script>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyD-ViE8njG27IT2mPXiFStIQCo9Vf-GGYE",
      authDomain: "home-decor-001.firebaseapp.com",
      projectId: "home-decor-001",
      storageBucket: "home-decor-001.appspot.com",
      messagingSenderId: "792939007029",
      appId: "1:792939007029:web:eb027b510a6e23aa0a357c",
      measurementId: "G-NV57Y5QR0G"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
  <script>
    // Example sign-in function
function signInWithGoogle() {
  var provider = new firebase.auth.GoogleAuthProvider();
  firebase.auth().signInWithPopup(provider).then(function(result) {
    // Handle successful authentication
    var user = result.user;
    console.log("User signed in:", user);
  }).catch(function(error) {
    // Handle errors
    console.error("Authentication failed:", error);
  });
}

  </script>
    {% endblock content %}